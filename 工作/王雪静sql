----用户数据
SELECT
	RealName AS 真实姓名,
	AccountName AS 用户名,
	Mobile AS 电话,
	dcp.Province AS 省份,
	dcc.City AS 市,
	dca.Area AS 区,
	CompanyName AS 单位名称
FROM
	dt_user_reg dur
LEFT JOIN dt_common_Province dcp ON dur.Province = dcp.provinceID
LEFT JOIN dt_common_city dcc ON dur.City = dcc.cityID
LEFT JOIN dt_common_area dca ON dur.Area = dca.areaID
WHERE
	SiteID = 30

--省数据
SELECT
	dcp.Province AS 省份,
	COUNT(*) c
FROM
	dt_user_reg dur
LEFT JOIN dt_common_Province dcp ON dur.Province = dcp.provinceID
LEFT JOIN dt_common_city dcc ON dur.City = dcc.cityID
LEFT JOIN dt_common_area dca ON dur.Area = dca.areaID
WHERE
	SiteID = 30
GROUP BY
	dcp.Province
ORDER BY
	c DESC

--省市数据

SELECT
	dcp.Province AS 省份,
	dcc.City AS 市,
	COUNT(*) c
FROM
	dt_user_reg dur
LEFT JOIN dt_common_Province dcp ON dur.Province = dcp.provinceID
LEFT JOIN dt_common_city dcc ON dur.City = dcc.cityID
LEFT JOIN dt_common_area dca ON dur.Area = dca.areaID
WHERE
	SiteID = 30
GROUP BY
	dcp.Province,
	dcc.City
ORDER BY
	c DESC